#
# Generated by Chef for <%= node['fqdn'] %>.
# Local modifications will be overwritten.
#

#
# Configuration file for qpidd. Entries are of the form:
#   name=value
#
# (Note: no spaces on either side of '='). Using default settings:
# "qpidd --help" or "man qpidd" for more details.
# cluster-mechanism=DIGEST-MD5 ANONYMOUS

# broker option
auth=<%= @params['auth'] %>
max-connections=<%= @params['max_connections'] %>
connection-backlog=<%= @params['connection_backlog'] %>
worker-threads=<%= @params['worker_threads'] %>
max-negotiate-time=<%= @params['max_negotiate_time'] %>
link-heartbeat-interval=<%= @params['link_heartbeat_interval'] %>
log-enable=<%= @params['log_enable'] %>
log-to-file=<%= @params['log_to_file'] %>

<% if node['qpid']['sasl']['enable'] -%>
acl-file=<%= node['qpid']['acl']['file'] %>
realm=<%= node['qpid']['sasl']['realm'] %>
<% end %>
<% if node['qpid']['ssl']['enable'] -%>
ssl-port=<%= node['qpid']['ssl']['port'] %>
ssl-cert-name=<%= node['qpid']['ssl']['cert']['name'] %>
ssl-cert-db=<%= node['qpid']['ssl']['cert']['db'] %>
ssl-cert-password-file=<%= node['qpid']['ssl']['cert']['password_file'] %>
<% else %>
port=<%= @params['port'] %>
<% end %>
